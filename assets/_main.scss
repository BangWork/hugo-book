html {
  font-size: $font-size-base;
  scroll-behavior: smooth;
  touch-action: manipulation;
  height:100%;
  width:100%;
}

body {
  height:100%;
  width:100%;
  color: $body-font-color;
  background: $body-background;

  letter-spacing: 0.33px;
  font-weight: $body-font-weight;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  box-sizing: border-box;
  * {
    box-sizing: inherit;
  }
}

h1,
h2,
h3,
h4,
h5 {
  font-weight: $body-font-weight;
}

a {
  text-decoration: none;
  color: $color-link;
}

img {
  vertical-align: baseline;
}

:focus{
  outline:none
}

aside nav ul {
  padding: 0;
  margin: 0;
  list-style: none;

  li {
    margin: 1em 0;
    position: relative;
  }

  a {
    display: block;
  }

  a:hover {
    opacity: 0.5;
  }

  ul {
    padding-inline-start: $padding-16;
  }
}

// Responsive styles
aside nav,
.book-page,
.book-header aside,
.book-search-inner,
.markdown {
  transition: 0.2s ease-in-out;
  transition-property: transform, margin, opacity, visibility;
  will-change: transform, margin, opacity;
}


ul.pagination {
  display: flex;
  justify-content: center;
  list-style-type: none;

  .page-item a {
    padding: $padding-16;
  }
}

//icon

.book-icon-wrapper{
  display:flex;
  width:30px;
  height:30px;
  align-items: center;
  justify-content: center;
}
.book-icon{
  svg{
    width:1rem;
    height:1rem;
  }
}

.book-icon-big{
  svg{
    width : 1.5rem;
    height : 1.5rem;
  }
}

.book-icon-wrapper {
  cursor:pointer;
  svg{
    filter: $icon-filter;
    cursor:pointer;
  }
}

//input
.book-input-wrapper{
  width:100%;
  display:flex;
  align-items: center;
  border-radius: $border-radius;
  height:2em;
  input{
    flex:1 1 auto;
  }
}
.book-input-addon{
  display:flex;
}


// container
.container {
  margin: 0 auto;
  flex-direction: column;
  height:100%;
}

//header
.book-header {
  width:100%;
  margin-bottom: $padding-16;
  height: 80px;
  min-width:$body-min-width;
  margin: 0;
  display: flex;
  padding: 0;
  z-index: 1;
  position: relative;
  box-shadow: 0 3px 8px 0 rgba(116, 129, 141, 0.1);
  border-bottom: 1px solid #d4dadf;
  background-color: #FFFFFF;
  >div{
    height:100%;
    width:100%;
    max-width:$container-max-width;
    margin:0 auto;
  }
}
.book-header-left{
  display:flex;
  align-items: center;
  justify-content: space-between;
  height:100%;
  width:100%;
  max-width: $menu-width;
  padding:0 $padding-16;
  position: relative;
  label {
    line-height: 0;
  }
  .book-icon-wrapper{
    display:none;
  }
  :after{
    @include split-line;
    right:0;
  }
}
.book-header-right{
  flex:0 0 auto;
  width:$toc-width;
  padding:0 $padding-16;
  position: relative;
  :before{
    @include split-line;
    left:0;
  }
}

.book-brand {
  margin-top: 0;
  flex:0 1 auto;
  img {
    height: 1.5em;
    width: auto;
    vertical-align: middle;
    margin-inline-end: $padding-8;
  }
}

//main
.book-main{
  flex:1 1 auto;
  min-width:$body-min-width;
}

//menu
.book-menu {
  flex: 0 0 auto;
  width:calc((100% - #{$container-max-width}) / 2 + #{$menu-width});
  padding-left:calc((100% - #{$container-max-width}) / 2);
  background:#F5F7F9;
  min-width: $menu-width;
  font-size: $font-size-14;
  display: flex;
  nav {
    width: $menu-width;
    padding-bottom: $padding-16;
    background:#F5F7F9;
    border-right:1px solid #E6ECF1;
  }

  ul{
    padding:0 $padding-16;
  }

  a {
    color: inherit;
    word-wrap: break-word;
  }

  a.active {
    color: $color-link;
  }

  a.collapsed {
    display: flex;
    justify-content: space-between;

    &::after {
      content: "â–¸";
    }
  }
}

.book-menu-header{
  display:none;
  height:60px;
  align-items: center;
  margin-bottom:$padding-16;
  padding: 0 11px;
  z-index: 1;
  position: relative;
  box-shadow: 0 3px 8px 0 rgba(116, 129, 141, 0.1);
  border-bottom: 1px solid #d4dadf;
  background-color: #FFFFFF;
  color:$gray-600;
  .book-icon-wrapper{
    width:auto;
  }
}

nav.fixed{
  @include fixed
}

.book-section-flat {
  margin-bottom: $padding-16 * 2;

  &:not(:first-child) {
    margin-top: $padding-16 * 2;
  }

  > a,
  > span {
    font-weight: bolder;
  }

  > ul {
    padding-inline-start: 0;
  }
}

.book-page {
  flex-grow: 1;
  max-width: $page-max-width;
  margin:0 5.5rem;
  padding-bottom:4rem;
  min-width:0;
}

.book-page-header{
  padding:2.5rem 0;
  border-bottom: 2px solid #E6ECF1;
  margin:0 auto 2rem;
}
.book-page-title-container{
  display:flex;
  align-items: center;
  justify-content: space-between;
}
.book-page-title{
  flex: 1 1 auto;
  padding-right:$padding-16;
  display:block;
  h1{
    margin:0;
  }
}
.book-page-description{
  color: #74818D;
  width: 100%;
  border: none;
  margin: 8px 0px 0px 0px;
  resize: none;
  display: block;
  outline: none;
  padding: 0;
  background: none;
  min-height: 19px;
  overflow-x: hidden;
  border-radius: 3px;
  letter-spacing: 0.0em;
}


.book-post {
  margin-bottom: $padding-16 * 3;
}

.book-overlay{
  position: absolute;
  background:rgba(24, 48, 85, 0.3);
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index:2;
}



//search
#search-control:checked ~ main {
  .book-search-overlay {
    display: block;
  }
  .book-search{
    visibility: initial;
  }
  .book-search-inner {
    transform: translateX(-$search-width);
    box-shadow: rgba(0, 0, 0, 0.14) 0px 0px 4px, rgba(0, 0, 0, 0.28) 0px 4px 8px;;
    border-right:1px solid rgb(230, 236, 241);
  }
}

.book-search {
  position: relative;
  visibility: hidden;
  border-bottom: 1px solid transparent;
  margin-inline-start: 100%;
  font-size: $font-size-base; 
  .book-search-inner{
    @include fixed;
    width:$search-width;
    padding-bottom:1rem;
    z-index:3;
    background:#fff;
  }
  
  .book-input-wrapper{
    flex: 1 1 auto;
    width:initial;
  }
  .book-search-spinner {
    position: absolute;
    top: 0;
    margin: $padding-8;
    margin-inline-start: calc(100% - #{$padding-16 + $padding-8});

    width: $padding-16;
    height: $padding-16;

    border: $padding-1 solid transparent;
    border-top-color: $body-font-color;
    border-radius: 50%;

    @include spin(1s);
  }

  small {
    opacity: 0.5;
  }
}
.book-search-header{
  height:80px;
  align-items: center;
  margin-bottom:$padding-16;
  padding: 0 11px;
  z-index: 1;
  position: relative;
  box-shadow: 0 3px 8px 0 rgba(116, 129, 141, 0.1);
  border-bottom: 1px solid #d4dadf;
  background-color: #FFFFFF;
  color:$gray-600;
  display:flex;
}
.book-search-input{
  padding: $padding-8;

  border: 0;
  color: $body-font-color;
  &:required + .book-search-spinner {
    display: block;
  }
}


//toc
.book-toc {
  display:none;
  flex: 0 0 $toc-width;
  font-size: $font-size-12;

  nav {
    width: $toc-width;
    padding: $padding-16;
  }

  img {
    height: 1em;
  }

  nav > ul > li:first-child {
    margin-top: 0;
  }
}

//foot
.book-footer {
  padding-top: $padding-16;
  font-size: $font-size-14;

  img {
    height: 1em;
    margin-inline-end: $padding-8;
  }
}

//comments
.book-comments {
  margin-top: $padding-16;
}

// .book-languages {
//   position: relative;
//   overflow: visible;

//   padding: $padding-16;
//   margin: -$padding-16;

//   ul {
//     margin: 0;
//     padding: 0;
//     list-style: none;

//     li {
//       white-space: nowrap;
//       cursor: pointer;
//     }
//   }

//   &:hover,
//   &:focus,
//   &:focus-within {
//     .book-languages-list {
//       display: block;
//     }
//   }

//   .book-languages-list {
//     display: none;

//     position: absolute;
//     bottom: 100%;
//     left: 0;
//     padding: $padding-8 0;

//     background: $body-background;
//     box-shadow: 0 0 $padding-4 rgba(0, 0, 0, 0.1);

//     li img {
//       opacity: 0.25;
//     }

//     li.active img,
//     li:hover img {
//       opacity: initial;
//     }

//     a {
//       color: inherit;
//       padding: $padding-8 $padding-16;
//     }
//   }
// }

.book-home {
  padding: $padding-16;
}



// #toc-control{
//   display:inline
// }

// #toc-control:focus ~ main label[for="toc-control"] {
//   @include outline;
// }

// #toc-control:checked ~ main {
//   .book-header aside {
//     display: block;
//   }
// }



@media screen and (max-width: $pad-breakpoint) {
  .book-header{
    height:60px;
  }
  .book-menu-header{
    display: flex;
  }
  .book-search-header{
    height:60px;
  }
}

@media screen and (max-width: $mobile-breakpoint) {
  .book-header {
    @include fixed;
    z-index: 1;
  }
  .book-header-center,
  .book-header-right{
    display:none
  }
  .book-header-left{
    max-width: unset;
    :after{
      display:none;
    }
    .book-icon-wrapper{
      display:flex;
    }
  }
  .book-page{
    margin:0 auto;
    padding:0 1.5rem 1.5rem;
  }
  .book-menu {
    visibility: hidden;
    margin-inline-start: -$menu-width;
    font-size: $font-size-base; 
    nav{
      @include fixed;
      z-index: 3;
    }
  }

  .book-main{
    padding-top:80px;
  }

  #menu-control{
    display: inline;
  }

  .book-toc {
    display: none;
  }

  #menu-control:checked ~ main {
    .book-menu {
      visibility: initial;
    }

    .book-menu nav {
      transform: translateX($menu-width);
      box-shadow: rgba(0, 0, 0, 0.14) 0px 0px 4px, rgba(0, 0, 0, 0.28) 0px 4px 8px;;
      border-right:1px solid rgb(230, 236, 241);
    }

    .book-menu-overlay {
      display: block;
    }
  }

  //for RTL support
  body[dir="rtl"] #menu-control:checked + main {
    .book-menu nav {
      transform: translateX(-$menu-width);
    }
  }
}

// Extra space for big screens
@media screen and (min-width: $big-screen-breakpoint) {
  aside.book-toc{
    display:block;
  }
  label[for="toc-control"]{
    display:none;
  }
}
